@keyframes blob-idle {
  0%, 100% { border-radius: 50% 50% 50% 50% / 50% 50% 50% 50%; transform: scale(1); }
  33% { border-radius: 55% 45% 50% 50% / 50% 55% 45% 50%; transform: scale(1.02); }
  66% { border-radius: 45% 55% 45% 55% / 55% 45% 50% 50%; transform: scale(0.98); }
}

@keyframes blob-active {
  0% { border-radius: 45% 55% 40% 60% / 55% 45% 60% 40%; transform: scale(1.1) rotate(0deg); }
  25% { border-radius: 55% 45% 50% 50% / 50% 55% 45% 50%; transform: scale(1.15) rotate(2deg); }
  50% { border-radius: 40% 60% 55% 45% / 45% 55% 40% 60%; transform: scale(1.05) rotate(-2deg); }
  75% { border-radius: 55% 45% 45% 55% / 55% 45% 50% 50%; transform: scale(1.12) rotate(1deg); }
  100% { border-radius: 45% 55% 40% 60% / 55% 45% 60% 40%; transform: scale(1.1) rotate(0deg); }
}

@keyframes blob-failure {
  0% { border-radius: 45% 55% 40% 60% / 55% 45% 60% 40%; transform: scale(1.1); }
  25% { border-radius: 55% 45% 50% 50% / 50% 55% 45% 50%; transform: scale(1.2); }
  50% { border-radius: 40% 60% 55% 45% / 45% 55% 40% 60%; transform: scale(1.05); }
  75% { border-radius: 55% 45% 45% 55% / 55% 45% 50% 50%; transform: scale(1.15); }
  100% { border-radius: 45% 55% 40% 60% / 55% 45% 60% 40%; transform: scale(1.1); }
}

@keyframes blob-thinking {
  0% { border-radius: 50% 50% 50% 50% / 50% 50% 50% 50%; transform: scale(1.02); }
  25% { border-radius: 52% 48% 51% 49% / 49% 51% 48% 52%; transform: scale(1.05); }
  50% { border-radius: 48% 52% 49% 51% / 51% 49% 52% 48%; transform: scale(1.02); }
  75% { border-radius: 51% 49% 52% 48% / 48% 52% 49% 51%; transform: scale(1.05); }
  100% { border-radius: 50% 50% 50% 50% / 50% 50% 50% 50%; transform: scale(1.02); }
}

@keyframes gradient-move {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* 3D electron orbit - tilted elliptical path */
@keyframes electron-orbit {
  0% {
    transform: rotateX(70deg) rotateZ(0deg) translateX(140%) rotateZ(0deg) rotateX(-70deg);
  }
  100% {
    transform: rotateX(70deg) rotateZ(360deg) translateX(140%) rotateZ(-360deg) rotateX(-70deg);
  }
}

/* Second electron on different orbit */
@keyframes electron-orbit-2 {
  0% {
    transform: rotateX(70deg) rotateY(60deg) rotateZ(0deg) translateX(140%) rotateZ(0deg) rotateY(-60deg) rotateX(-70deg);
  }
  100% {
    transform: rotateX(70deg) rotateY(60deg) rotateZ(360deg) translateX(140%) rotateZ(-360deg) rotateY(-60deg) rotateX(-70deg);
  }
}

/* Third electron on yet another orbit */
@keyframes electron-orbit-3 {
  0% {
    transform: rotateX(70deg) rotateY(-60deg) rotateZ(0deg) translateX(140%) rotateZ(0deg) rotateY(60deg) rotateX(-70deg);
  }
  100% {
    transform: rotateX(70deg) rotateY(-60deg) rotateZ(360deg) translateX(140%) rotateZ(-360deg) rotateY(60deg) rotateX(-70deg);
  }
}

/* Electron glow pulse */
@keyframes electron-pulse {
  0%, 100% { opacity: 0.8; box-shadow: 0 0 8px 4px currentColor; }
  50% { opacity: 1; box-shadow: 0 0 16px 8px currentColor; }
}

.animate-blob-idle { animation: blob-idle 6s ease-in-out infinite, gradient-move 8s ease infinite; }
.animate-blob-active { animation: blob-active 2s ease-in-out infinite, gradient-move 3s ease infinite; }
.animate-blob-thinking { animation: blob-thinking 1.5s ease-in-out infinite, gradient-move 4s ease infinite; }
.animate-blob-failure { animation: blob-failure 2s ease-in-out infinite, gradient-move 3s ease infinite; }

/* Electron orbit container */
.electron-orbit-container {
  position: absolute;
  inset: 0;
  perspective: 800px;
  transform-style: preserve-3d;
}

/* Individual electron */
.electron {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 12px;
  height: 12px;
  margin: -6px 0 0 -6px;
  border-radius: 50%;
  background: white;
  animation: electron-pulse 1s ease-in-out infinite;
  transform-style: preserve-3d;
}

.electron-1 {
  animation: electron-orbit 2s linear infinite, electron-pulse 1s ease-in-out infinite;
  color: rgba(255, 255, 255, 0.8);
}

.electron-2 {
  animation: electron-orbit-2 2.5s linear infinite, electron-pulse 1.2s ease-in-out infinite;
  animation-delay: -0.8s;
  color: rgba(147, 197, 253, 0.8);
  background: rgb(147, 197, 253);
}

.electron-3 {
  animation: electron-orbit-3 3s linear infinite, electron-pulse 1.4s ease-in-out infinite;
  animation-delay: -1.6s;
  color: rgba(196, 181, 253, 0.8);
  background: rgb(196, 181, 253);
}
